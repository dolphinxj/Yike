var Yike=angular.module("Yike",["ngRoute","Controllers","Directives"]);Yike.config(["$routeProvider",function(t){t.when("/today",{templateUrl:"./views/body.html",controller:"TodayController"}).when("/older",{templateUrl:"./views/older.html",controller:"OlderController"}).when("/hot",{templateUrl:"./views/author.html",controller:"HotController"}).otherwise({redirectTo:"/today"})}]),Yike.run(["$rootScope",function(t){t.collapsed=!1,t.toggle=function(){t.collapsed=!t.collapsed;var o=document.querySelectorAll(".navs dd");if(t.collapsed)angular.forEach(o,function(t,o){t.style.transitionDuration=.3*o+"s",t.style.transitionDelay="0.3s",t.style.transform="translate(0)"});else{var e=o.length-1;angular.forEach(o,function(t,l){o[e-l].style.transitionDuration=.3*l+"s",o[e-l].style.transform="translate(-100%)",o[e-l].style.transitionDelay="0"})}}}]),angular.module("Controllers",[]).controller("NavsController",["$scope",function(t){t.navs=[{link:"#/today",text:"今日一刻",icon:"icon-home"},{link:"#/older",text:"往期内容",icon:"icon-file-empty"},{link:"#/hot",text:"热门作者",icon:"icon-pencil"},{link:"#/",text:"栏目浏览",icon:"icon-menu"},{link:"#/",text:"我的喜欢",icon:"icon-heart"},{link:"#/",text:"设置",icon:"icon-cog"}]}]).controller("TodayController",["$scope","$http","$rootScope","$filter",function(t,o,e,l){e.loaded=!1,e.title="今日一刻",e.index=0;var r=new Date,n=l("date");r=n(r,"yyyy-MM-dd"),o({url:"./api/today.php",method:"get",params:{today:r}}).success(function(o){t.posts=o.posts,t.date=o.date,e.loaded=!0})}]).controller("OlderController",["$scope","$http","$rootScope",function(t,o,e){e.loaded=!1,e.title="往期内容",e.index=1,t.day=1,o({url:"./api/older.php",method:"get",params:{day:t.day}}).success(function(o){t.posts=o.posts,t.date=o.date,e.loaded=!0})}]).controller("HotController",["$scope","$http","$rootScope",function(t,o,e){e.loaded=!1,e.title="热门作者",e.index=2,o({url:"./api/author.php"}).success(function(o){t.rec=o.rec.authors,t.all=o.all.authors,e.loaded=!0})}]),angular.module("Directives",[]).directive("loading",function(){return{restrict:"ECMA",replace:!0,template:'<img src="" alt="" />'}});